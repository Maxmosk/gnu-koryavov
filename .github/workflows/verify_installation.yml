

name: Verify installation


on:
  [ pull_request ]

jobs:

  VerifyInstallation:

    runs-on: ubuntu-latest 

    steps:
      
      - uses: actions/checkout@v2
        with:
          ref : ${{ github.event.pull_request.head.sha }}
          path: gnu-koryavov

      - name: Build docker image
        run: |
            echo "Creating docker image..." &&
            ls -la &&
            cp gnu-koryavov/ci-scripts/Dockerfile . &&
            docker build -t installation:v1.0 .

      - name: Run image and test installation
        run: |
          echo "Running image..." &&
          chmod +x gnu-koryavov/ci-scripts/entrypoint.sh &&
          sudo docker run installation:v1.0




    

